{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maram\\\\GitHub\\\\student-activity-website\\\\client\\\\src\\\\roommatesearch.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, Navigate, NavLink } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./Header\";\nimport { Container, Typography, TextField, Button, Card, CardContent, Grid, makeStyles } from \"@material-ui/core\";\nimport \"./bg.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  filters: {\n    margin: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  card: {\n    margin: theme.spacing(2),\n    width: 300\n  },\n  button: {\n    color: \"#00CCCC\",\n    textDecoration: \"none\"\n  }\n}));\n\nconst RoommateSearch = () => {\n  _s();\n\n  const classes = useStyles();\n  const [search, setSearch] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [tokenn, setTokenn] = useState(localStorage.getItem(\"token\"));\n  const [filterCriteria, setFilterCriteria] = useState({\n    moveInDate: \"\",\n    gender: \"\",\n    priceRange: \"\"\n  });\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/getrooms\").then(res => !search ? setData(res.data) : setData(res.data.filter(rooms => rooms.priceRange.includes(search.toUpperCase()) || rooms.moveInDate.toLowerCase().includes(search.toLowerCase()) || rooms.gender.toLowerCase().includes(search.toLowerCase()))));\n  }, [search]);\n\n  const searchHandler = () => {\n    axios.get(\"http://localhost:5000/getrooms\").then(res => {\n      let filteredData = res.data;\n      if (filterCriteria.moveInDate) filteredData = filteredData.filter(rooms => rooms.moveInDate.toLowerCase().includes(filterCriteria.moveInDate.toLowerCase()));\n      if (filterCriteria.gender) filteredData = filteredData.filter(rooms => rooms.gender.toLowerCase().includes(filterCriteria.gender.toLowerCase()));\n      if (filterCriteria.priceRange) filteredData = filteredData.filter(rooms => rooms.priceRange.includes(filterCriteria.priceRange.toUpperCase()));\n      setData(filteredData);\n    });\n  };\n\n  if (!localStorage.getItem(\"token\")) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 12\n    }, this);\n  }\n\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilterCriteria({ ...filterCriteria,\n      [name]: value\n    });\n  };\n\n  const formatDateString = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"first\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h1\",\n        align: \"center\",\n        style: {\n          color: \"#30332E\",\n          marginTop: \"20px\"\n        },\n        children: \"Roommate Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.filters,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Move-in Date\",\n          type: \"date\",\n          name: \"moveInDate\",\n          value: filterCriteria.moveInDate,\n          onChange: handleFilterChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          select: true,\n          label: \"Gender\",\n          style: {\n            width: \"150px\",\n            marginLeft: \"10px\"\n          },\n          onChange: handleFilterChange,\n          value: filterCriteria.gender,\n          name: \"gender\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Male\",\n            children: \"Male\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Female\",\n            children: \"Female\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Other\",\n            children: \"Other\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Price Range\",\n          type: \"text\",\n          name: \"priceRange\",\n          value: filterCriteria.priceRange,\n          onChange: handleFilterChange,\n          style: {\n            marginLeft: \"10px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: searchHandler,\n          style: {\n            marginLeft: \"10px\"\n          },\n          children: \"Apply Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: data.map(rooms => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.card,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                component: \"h2\",\n                style: {\n                  color: \"#6DAFED\"\n                },\n                children: [\"Posted by: \", rooms.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"p\",\n                children: [\"Contact: \", rooms.contact]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"p\",\n                children: [\"Gender: \", rooms.gender]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"p\",\n                children: [\"Move in Date: \", formatDateString(rooms.moveInDate)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: \"p\",\n                children: [\"Price: \", rooms.priceRange]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)\n        }, rooms.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          component: NavLink,\n          to: \"/roommatepost\",\n          color: \"primary\",\n          className: classes.button,\n          children: \"Click here if you want to post an about your room.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), tokenn === \"undefined\" && /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RoommateSearch, \"o+nksU9IUWJ/hWdL22l9ErVAR+c=\", false, function () {\n  return [useStyles];\n});\n\n_c = RoommateSearch;\nexport default RoommateSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"RoommateSearch\");","map":{"version":3,"sources":["C:/Users/maram/GitHub/student-activity-website/client/src/roommatesearch.js"],"names":["React","useState","useEffect","Link","Navigate","NavLink","axios","Header","Container","Typography","TextField","Button","Card","CardContent","Grid","makeStyles","useStyles","theme","filters","margin","spacing","display","justifyContent","alignItems","card","width","button","color","textDecoration","RoommateSearch","classes","search","setSearch","data","setData","tokenn","setTokenn","localStorage","getItem","filterCriteria","setFilterCriteria","moveInDate","gender","priceRange","get","then","res","filter","rooms","includes","toUpperCase","toLowerCase","searchHandler","filteredData","handleFilterChange","e","name","value","target","formatDateString","dateString","date","Date","toLocaleDateString","marginTop","marginLeft","map","contact","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, Navigate, NavLink } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Header from \"./Header\";\r\nimport { Container, Typography, TextField, Button, Card, CardContent, Grid, makeStyles } from \"@material-ui/core\";\r\nimport \"./bg.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  filters: {\r\n    margin: theme.spacing(2),\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    margin: theme.spacing(2),\r\n    width: 300,\r\n  },\r\n  button: {\r\n    color: \"#00CCCC\",\r\n    textDecoration: \"none\",\r\n  },\r\n}));\r\n\r\nconst RoommateSearch = () => {\r\n  const classes = useStyles();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n  const [tokenn, setTokenn] = useState(localStorage.getItem(\"token\"));\r\n  const [filterCriteria, setFilterCriteria] = useState({\r\n    moveInDate: \"\",\r\n    gender: \"\",\r\n    priceRange: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:5000/getrooms\")\r\n      .then((res) =>\r\n        !search\r\n          ? setData(res.data)\r\n          : setData(\r\n              res.data.filter(\r\n                (rooms) =>\r\n                  rooms.priceRange.includes(search.toUpperCase()) ||\r\n                  rooms.moveInDate\r\n                    .toLowerCase()\r\n                    .includes(search.toLowerCase()) ||\r\n                  rooms.gender.toLowerCase().includes(search.toLowerCase())\r\n              )\r\n            )\r\n      );\r\n  }, [search]);\r\n\r\n  const searchHandler = () => {\r\n    axios.get(\"http://localhost:5000/getrooms\").then((res) => {\r\n      let filteredData = res.data;\r\n      if (filterCriteria.moveInDate)\r\n        filteredData = filteredData.filter((rooms) =>\r\n          rooms.moveInDate\r\n            .toLowerCase()\r\n            .includes(filterCriteria.moveInDate.toLowerCase())\r\n        );\r\n      if (filterCriteria.gender)\r\n        filteredData = filteredData.filter((rooms) =>\r\n          rooms.gender\r\n            .toLowerCase()\r\n            .includes(filterCriteria.gender.toLowerCase())\r\n        );\r\n      if (filterCriteria.priceRange)\r\n        filteredData = filteredData.filter((rooms) =>\r\n          rooms.priceRange.includes(filterCriteria.priceRange.toUpperCase())\r\n        );\r\n      setData(filteredData);\r\n    });\r\n  };\r\n\r\n  if (!localStorage.getItem(\"token\")) {\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilterCriteria({ ...filterCriteria, [name]: value });\r\n  };\r\n\r\n  const formatDateString = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  return (\r\n    <div className=\"first\">\r\n      <Header />\r\n\r\n      <Container>\r\n        <Typography variant=\"h1\" align=\"center\" style={{ color: \"#30332E\", marginTop: \"20px\" }}>\r\n          Roommate Search\r\n        </Typography>\r\n\r\n        <div className={classes.filters}>\r\n          <TextField\r\n            label=\"Move-in Date\"\r\n            type=\"date\"\r\n            name=\"moveInDate\"\r\n            value={filterCriteria.moveInDate}\r\n            onChange={handleFilterChange}\r\n          />\r\n          <TextField\r\n            select\r\n            label=\"Gender\"\r\n            style={{ width: \"150px\", marginLeft: \"10px\" }}\r\n            onChange={handleFilterChange}\r\n            value={filterCriteria.gender}\r\n            name=\"gender\"\r\n          >\r\n            <option value=\"Male\">Male</option>\r\n            <option value=\"Female\">Female</option>\r\n            <option value=\"Other\">Other</option>\r\n          </TextField>\r\n          <TextField\r\n            label=\"Price Range\"\r\n            type=\"text\"\r\n            name=\"priceRange\"\r\n            value={filterCriteria.priceRange}\r\n            onChange={handleFilterChange}\r\n            style={{ marginLeft: \"10px\" }}\r\n          />\r\n          <Button variant=\"contained\" color=\"primary\" onClick={searchHandler} style={{ marginLeft: \"10px\" }}>\r\n            Apply Filters\r\n          </Button>\r\n        </div>\r\n\r\n        <Grid container spacing={2}>\r\n          {data.map((rooms) => (\r\n            <Grid item xs={12} sm={6} md={4} key={rooms.id}>\r\n              <Card className={classes.card}>\r\n                <CardContent>\r\n                  <Typography variant=\"h5\" component=\"h2\" style={{ color: \"#6DAFED\" }}>\r\n                    Posted by: {rooms.name}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" component=\"p\">\r\n                    Contact: {rooms.contact}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" component=\"p\">\r\n                    Gender: {rooms.gender}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" component=\"p\">\r\n                    Move in Date: {formatDateString(rooms.moveInDate)}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" component=\"p\">\r\n                    Price: {rooms.priceRange}\r\n                  </Typography>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n\r\n        <center>\r\n          <Button component={NavLink} to=\"/roommatepost\" color=\"primary\" className={classes.button}>\r\n            Click here if you want to post an about your room.\r\n          </Button>\r\n        </center>\r\n      </Container>\r\n\r\n      {tokenn === \"undefined\" && <Navigate to=\"/login\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoommateSearch;\r\n"]},"metadata":{},"sourceType":"module"}